<!DOCTYPE html><html lang="fr"> <head><meta charset="UTF-8"><meta name="description" content="Documentation technique compl√®te pour le Tekbot Robotics Challenge 2025"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/2025-Team-EPO-Docsfavicon.svg"><meta name="generator" content="Astro v5.9.2"><title>Test Informatique 2 ‚Äì ROS2</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet"><link rel="stylesheet" href="/2025-Team-EPO-Docs/_astro/index.BaPw3jlW.css"></head> <body class="bg-gray-50 text-gray-900 font-sans">  <header class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50"> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"> <div class="flex justify-between items-center h-16"> <!-- Logo and title --> <div class="flex items-center space-x-4"> <div class="flex items-center space-x-2"> <!-- <div class="w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center">
            <span class="text-white font-bold text-lg">T</span>
          </div> --> <img src="/2025-Team-EPO-Docs/Logo.svg" alt="Logo" class="h-100"> <!-- <div>
            <h1 class="text-xl font-bold text-gray-900">TRC2K25</h1>
            <p class="text-xs text-gray-500">Documentation Technique</p>
          </div> --> </div> </div> <!-- Navigation --> <nav class="hidden md:flex items-center space-x-8"> <a href="/2025-Team-EPO-Docs/" class="px-3 py-2 text-sm font-medium transition-colors rounded-md text-gray-700 hover:text-primary-600 hover:bg-gray-50">
Accueil
</a> <a href="/2025-Team-EPO-Docs/electronique/" class="px-3 py-2 text-sm font-medium transition-colors rounded-md text-gray-700 hover:text-electronics-600 hover:bg-gray-50">
√âlectronique
</a> <a href="/2025-Team-EPO-Docs/informatique/" class="px-3 py-2 text-sm font-medium transition-colors rounded-md text-informatics-600 bg-blue-50">
Informatique
</a> <a href="/2025-Team-EPO-Docs/mecanique/" class="px-3 py-2 text-sm font-medium transition-colors rounded-md text-gray-700 hover:text-mechanics-600 hover:bg-gray-50">
M√©canique
</a> <a href="/2025-Team-EPO-Docs/test-final/" class="px-3 py-2 text-sm font-medium transition-colors rounded-md text-gray-700 hover:text-testing-600 hover:bg-gray-50">
Test Final
</a> <a href="https://github.com/prohack001" target="_blank" class="text-gray-700 hover:text-gray-900 transition-colors" aria-label="Voir sur GitHub"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">...</svg> </a> </nav> <!-- Mobile menu button --> <div class="md:hidden"> <button type="button" class="text-gray-700 hover:text-gray-900 focus:outline-none focus:text-gray-900" id="mobile-menu-button"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> </button> </div> </div> <!-- Mobile menu --> <div class="md:hidden hidden" id="mobile-menu"> <div class="px-2 pt-2 pb-3 space-y-1 bg-white border-t border-gray-200"> <a href="/2025-Team-EPO-Docs/" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md">Accueil</a> <a href="/2025-Team-EPO-Docs/electronique/" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-electronics-600 hover:bg-gray-50 rounded-md">√âlectronique</a> <a href="/2025-Team-EPO-Docs/informatique/" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-informatics-600 hover:bg-gray-50 rounded-md">Informatique</a> <a href="/2025-Team-EPO-Docs/mecanique/" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-mechanics-600 hover:bg-gray-50 rounded-md">M√©canique</a> <a href="/2025-Team-EPO-Docs/test-final/" class="block px-3 py-2 text-base font-medium text-gray-700 hover:text-testing-600 hover:bg-gray-50 rounded-md">Test Final</a> </div> </div> </div> </header> <script type="module">document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("mobile-menu-button"),n=document.getElementById("mobile-menu");e&&n&&e.addEventListener("click",function(){n.classList.toggle("hidden")})});</script> <main class="min-h-screen bg-gray-50"> <!-- Page Header --> <section class="bg-gradient-to-r from-green-500 to-teal-600 text-white py-16"> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"> <div class="flex items-center space-x-4 mb-6"> <div class="w-16 h-16 bg-white bg-opacity-20 rounded-lg flex items-center justify-center text-3xl">
ü§ñ
</div> <div> <h1 class="text-4xl md:text-5xl font-bold">
Test Informatique 2 ‚Äì ROS2
</h1> <p class="text-xl opacity-90 mt-2">
Conception d'un package ROS2 pour l'√©valuation des donn√©es de
              capteurs
</p> </div> </div> <!-- <div class="bg-white bg-opacity-10 rounded-lg p-4 inline-block">
          <span class="text-sm font-medium">Progression: Compl√©t√©</span>
        </div> --> </div> </section> <!-- Content --> <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"> <div class="flex flex-col lg:flex-row gap-8"> <!-- Sidebar TOC --> <aside class="lg:w-64 flex-shrink-0"> <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-20"> <h2 class="text-lg font-semibold text-gray-900 mb-4">
Table des Mati√®res
</h2> <nav class="space-y-2"> <a href="#introduction" class="block text-sm text-gray-600 hover:text-ros-600 transition-colors py-1">1. Introduction</a> <a href="#objectifs" class="block text-sm text-gray-600 hover:text-ros-600 transition-colors py-1">2. Objectifs</a> <a href="#pre-requis" class="block text-sm text-gray-600 hover:text-ros-600 transition-colors py-1">3. Pr√©requis</a> <a href="#structure" class="block text-sm text-gray-600 hover:text-ros-600 transition-colors py-1">4. Structure du Projet</a> <a href="#description" class="block text-sm text-gray-600 hover:text-ros-600 transition-colors py-1">5. Description des n≈ìuds</a> <a href="#launch" class="block text-sm text-gray-600 hover:text-ros-600 transition-colors py-1">6. Launch file</a> <a href="#execution" class="block text-sm text-gray-600 hover:text-ros-600 transition-colors py-1">7. Ex√©cution et r√©sultats</a> <a href="#annexes" class="block text-sm text-gray-600 hover:text-ros-600 transition-colors py-1">8. Annexes et liens</a> </nav> </div> </aside> <!-- Main Content --> <div class="flex-1"> <div class="bg-white rounded-lg shadow-sm border border-gray-200"> <!-- Introduction --> <section id="introduction" class="p-8 border-b border-gray-200"> <h2 class="text-2xl font-bold text-gray-900 mb-4">
1. Introduction
</h2> <p class="text-gray-600 mb-4">
Nous pr√©sentons ici notre travail pour le deuxi√®me test
                informatique, centr√© sur ROS2.
</p> <p class="text-gray-600 mb-4">
Nous avons pour mission de concevoir un package ROS2 nomm√© <strong>sensor_data_evaluation</strong>, comprenant deux n≈ìuds Python :
</p> <ul class="list-disc pl-6 text-gray-600 mb-4"> <li> <strong>publisher_node</strong> : g√©n√®re toutes les 0,5 s des mesures
                  al√©atoires de temp√©rature, humidit√© et pression.
</li> <li> <strong>subscriber_node</strong> : re√ßoit ces donn√©es, v√©rifie
                  qu‚Äôelles sont dans des plages s√ªres et logue un message adapt√©.
</li> </ul> <p class="text-gray-600 mb-4">
Ce travail nous permet de ma√Ætriser la publication/souscription
                de messages, la configuration de QoS, et l‚Äô√©criture d‚Äôun launch
                file pour d√©marrer simultan√©ment plusieurs n≈ìuds.
</p> </section> <!-- Objectifs --> <section id="objectifs" class="p-8 border-b border-gray-200"> <h2 class="text-2xl font-bold text-gray-900 mb-4">
2. Objectifs
</h2> <p class="text-gray-600 mb-4">Nous visons √† :</p> <ul class="list-disc pl-6 text-gray-600 mb-4"> <li>
Mettre en place un workflow ROS2 complet (structure de
                  package, <code>setup.py</code>, <code>package.xml</code>).
</li> <li>
Impl√©menter un publisher √† fr√©quence fixe (2 Hz) avec <code>std_msgs/Float32MultiArray</code>.
</li> <li>
Impl√©menter un subscriber capable de d√©tecter et signaler les
                  valeurs hors plage.
</li> <li>
Cr√©er un launch file Python afin de d√©marrer automatiquement
                  nos deux n≈ìuds.
</li> <li>
Valider visuellement le bon fonctionnement gr√¢ce √† des
                  captures d‚Äô√©cran et une vid√©o de d√©monstration.
</li> </ul> </section> <!-- Pr√©requis --> <section id="pre-requis" class="p-8 border-b border-gray-200"> <h2 class="text-2xl font-bold text-gray-900 mb-4">
3. Pr√©requis
</h2> <p class="text-gray-600 mb-4">Nous utilisons :</p> <ul class="list-disc pl-6 text-gray-600 mb-4"> <li>Ubuntu 22.04</li> <li>ROS2 Humble</li> <li>Python 3.8+</li> <li>Outils : git, colcon</li> </ul> </section> <!-- Structure du Projet --> <section id="structure" class="p-8 border-b border-gray-200"> <h2 class="text-2xl font-bold text-gray-900 mb-4">
4. Structure du Projet
</h2> <pre class="bg-gray-800 text-white p-4 rounded">                <code>
sensor_data_evaluation/
 ‚Ä¢ resource/sensor_data_evaluation
 ‚Ä¢ sensor_data_evaluation/
   ‚Äì __init__.py
   ‚Äì publisher_node.py
   ‚Äì subscriber_node.py
 ‚Ä¢ launch/
   ‚Äì sensor_launch.py
 ‚Ä¢ package.xml
 ‚Ä¢ setup.py
 ‚Ä¢ README.md</code></pre> <br> <b class="text-gray-600 mb-4">
‚Ä¢ D√©p√¥t GitHub complet : <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-EPO-Docs/tree/main/docs/informatique/test2/code/sensor_data_evaluation" class="text-ros-600 hover:underline">lien</a> </b> </section> <!-- Description des n≈ìuds --> <section id="description" class="p-8 border-b border-gray-200"> <h2 class="text-2xl font-bold text-gray-900 mb-4">
5. Description des n≈ìuds
</h2> <div class="bg-gray-50 rounded-lg p-6 mb-6"> <h3 class="font-semibold text-gray-900 mb-3">
5.1 publisher_node.py
</h3> <p class="text-gray-600 mb-4">
Nous publions un message <code>Float</code> sur <code>/sensor_data</code> :
</p> <pre class="bg-gray-800 text-white p-4 rounded">                  <code>
import rclpy
from rclpy.node import Node
from std_msgs.msg import Float32MultiArray
import random

class PublisherNode(Node):
    def __init__(self):
        # Initialisation du n≈ìud avec le nom 'publisher_node'
        super().&#95;&#95;init&#95;&#95;('publisher_node')

         
        <p class="text-green-500">
        """
        Cr√©ation d'un √©diteur (publisher) qui envoie 
        des messages de type Float32MultiArray
        sur le topic '/sensor_data' avec une taille de file d'attente de 10
        """
         </p>
        self.pub = self.create_publisher(Float32MultiArray, '/sensor_data', 10)

        <p class="text-green-500">    # Cr√©ation d'un timer qui appelle la m√©thode publish_data toutes les 0.5 secondes
        self.create_timer(0.5, self.publish_data)</p>        

    def publish_data(self):
        # Cr√©ation d'un message de type Float32MultiArray
        msg = Float32MultiArray()

        # Remplissage du message avec des donn√©es al√©atoires simul√©es
        msg.data = [
            random.uniform(15.0, 35.0),  # Temp√©rature al√©atoire 
            random.uniform(30.0, 70.0),  # Humidit√© al√©atoire 
            random.uniform(950.0, 1050.0)  # Pression al√©atoire 
        ]

        # Publication du message
        self.pub.publish(msg)

        # Affichage des donn√©es publi√©es dans le log
        self.get_logger().info(
            f'Publi√© ‚Üí T:&#123;msg.data[0]:.1f&#125;¬∞C H:&#123;
            msg.data[1]:.1f&#125;% P:&#123;msg.data[2]:.1f&#125;hPa'
        )

def main():
    # Initialisation de ROS 2
    rclpy.init()

    # Cr√©ation d'une instance de PublisherNode
    node = PublisherNode()

    # Lancement du n≈ìud et attente des signaux d'arr√™t
    rclpy.spin(node)

    # Nettoyage : destruction du n≈ìud et arr√™t de ROS 2
    node.destroy_node()
    rclpy.shutdown()</code>

  </pre> </div> <div class="bg-gray-50 rounded-lg p-6 mb-6"> <h3 class="font-semibold text-gray-900 mb-3">
5.2 subscriber_node.py
</h3> <p class="text-gray-600 mb-4">
Nous recevons les donn√©es et validons chaque valeur :
</p> <pre class="bg-gray-800 text-white p-4 rounded"><code>import rclpy
from rclpy.node import Node
from std_msgs.msg import Float32MultiArray

class SubscriberNode(Node):
    def __init__(self):
        super().__init__('subscriber_node')
        self.create_subscription(
            Float32MultiArray, '/sensor_data', self.callback, 10)

    def callback(self, msg):
        t, h, p = msg.data
        valid = True
        if not 15.0 <= t <= 35.0:
            self.get_logger().warn(f'Temp√©rature hors plage: &#123;t:.1f&#125;¬∞C')
            valid = False
        if not 30.0 <= h <= 70.0:
            self.get_logger().warn(f'Humidit√© hors plage: &#123;h:.1f&#125;%')
            valid = False
        if not 950.0 <= p <= 1050.0:
            self.get_logger().warn(f'Pression hors plage: &#123;p:.1f&#125;hPa')
            valid = False
        if valid:
            self.get_logger().info('Toutes les valeurs sont dans la plage.')

def main():
    rclpy.init()
    node = SubscriberNode()
    rclpy.spin(node)
    node.destroy_node()
    rclpy.shutdown()</code></pre> </div> </section> <!-- Launch file --> <section id="launch" class="p-8 border-b border-gray-200"> <h2 class="text-2xl font-bold text-gray-900 mb-4">
6. Launch file
</h2> <p class="text-gray-600 mb-4">
Le fichier <code>launch/sensor_launch.py</code> permet de d√©marrer
                simultan√©ment les deux n≈ìuds :
</p> <pre class="bg-gray-800 text-white p-4 rounded"><code>from launch import LaunchDescription
from launch_ros.actions import Node

def generate_launch_description():
    return LaunchDescription([
        Node(
            package='sensor_data_evaluation',
            executable='publisher_node',
            name='publisher_node'
        ),
        Node(
            package='sensor_data_evaluation',
            executable='subscriber_node',
            name='subscriber_node'
        )
    ])</code></pre> </section> <!-- Ex√©cution et r√©sultats --> <section id="execution" class="p-8"> <h2 class="text-2xl font-bold text-gray-900 mb-4">
7. Ex√©cution et r√©sultats
</h2> <div class="bg-gray-50 rounded-lg p-6 mb-6"> <h3 class="font-semibold text-gray-900 mb-3">
1. Sourcing et lancement
</h3> <pre class="bg-gray-800 text-white p-4 rounded"><code>source /opt/ros/humble/setup.bash
source ~/ros2_ws/install/setup.bash
ros2 launch sensor_data_evaluation sensor_launch.py</code></pre> </div> <div class="bg-gray-50 rounded-lg p-6 mb-6"> <h3 class="font-semibold text-gray-900 mb-3">2. R√©sultats</h3> <p class="text-gray-600 mb-4">Nous observons en simultan√© :</p> <ul class="list-disc pl-6 text-gray-600 mb-4"> <li>
Les logs <strong>INFO</strong> de <code>publisher_node</code> (publication des valeurs).
</li> <li>
Les logs <strong>INFO/WARN</strong> de <code>subscriber_node</code> (validation des valeurs).
</li> </ul> <p>
Afin de pouvoir observ√© les r√©sultats facilement nous nous
                  avons lanc√© le node_subscriber et le node_publisher dans 2
                  terminaux diff√©rents
</p> <b>Les r√©sultats des tests en incluant des valeurs hors normes</b> <p>
nous pouvons donc observ√© dans le terminal √† droite les warns
                  quand les valeurs sont hors plages
</p> <div style="padding:56.25% 0 0 0;position:relative;"> <iframe src="https://player.vimeo.com/video/1093747552?h=0737ce5f85&badge=0&autopause=0&player_id=0&app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="test_plages_hors_normes"></iframe> </div><script type="module" src="/2025-Team-EPO-Docs/_astro/test2.astro_astro_type_script_index_0_lang.EHQRc0aL.js"></script> <br> <b>Les r√©sultats des test avec des valeurs dans les normes</b> <div style="padding:56.25% 0 0 0;position:relative;"> <iframe src="https://player.vimeo.com/video/1093747513?h=b019dde1ee&badge=0&autopause=0&player_id=0&app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="test_plages_bien_d√©finies"></iframe> </div><script type="module" src="/2025-Team-EPO-Docs/_astro/test2.astro_astro_type_script_index_1_lang.DRbxEomH.js"></script> <br> <b>Les resultats du sensor data launch </b> <img src="https://github.com/TekBot-Robotics-Challenge/2025-Team-EPO-Docs/blob/main/docs/informatique/test2/images/launch.png" alt=""> </div> </section> <!-- Annexes et liens --> <section id="annexes" class="p-8"> <h2 class="text-2xl font-bold text-gray-900 mb-4">
9. Annexes et liens
</h2> <p class="text-gray-600 mb-4">
‚Ä¢ D√©p√¥t GitHub complet : <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-EPO-Docs/tree/main/docs/informatique/test2/code/sensor_data_evaluation" class="text-ros-600 hover:underline">lien</a> </p> <p class="text-gray-600 mb-4">‚Ä¢ Fichiers sources :</p> <ul class="list-disc pl-6 text-gray-600 mb-4"> <li> <a class="text-ros-600 hover:underline">package.xml</a> </li> <li> <a class="text-ros-600 hover:underline">setup.py</a> </li> <li> <a class="text-ros-600 hover:underline">publisher_node.py</a> </li> <li> <a class="text-ros-600 hover:underline">subscriber_node.py</a> </li> <li> <a class="text-ros-600 hover:underline">sensor_launch.py</a> </li> </ul> <!-- <p class="text-gray-600 mb-4">‚Ä¢ Images brutes :</p>
              <ul class="list-disc pl-6 text-gray-600 mb-4"> --> <p class="text-gray-600 mb-4">‚Ä¢ Vid√©o de d√©monstration :</p> <div style="padding:56.25% 0 0 0;position:relative;"> <iframe src="https://player.vimeo.com/video/1093997021?h=1beb47ca27&title=0&byline=0&portrait=0&badge=0&autopause=0&player_id=0&app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" style="position:absolute;top:0;left:0;width:100%;height:100%;" title="resultats"></iframe> </div><script type="module" src="/2025-Team-EPO-Docs/_astro/test2.astro_astro_type_script_index_2_lang.DRbxEomH.js"></script> </section> </div> </div> </div> </div> </main>  <script type="module">document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();const n=document.querySelector(this.getAttribute("href"));n&&n.scrollIntoView({behavior:"smooth",block:"start"})})})});function a(){const i=document.querySelector("#search-input"),t=document.querySelector("#search-results");!i||!t||(i.addEventListener("input",function(e){const n=e.target.value.toLowerCase().trim();if(n.length<2){t.innerHTML="",t.classList.add("hidden");return}document.body.textContent.toLowerCase();const c=document.querySelectorAll("section[id], div[id]"),r=[];c.forEach(o=>{const s=o.textContent.toLowerCase();if(s.includes(n)){const d=o.querySelector("h1, h2, h3")?.textContent||"Section";r.push({title:d,id:o.id,snippet:s.substr(s.indexOf(n)-50,100)})}}),r.length>0?(t.innerHTML=r.map(o=>`
              <div class="p-3 hover:bg-gray-100 cursor-pointer border-b">
                <a href="#${o.id}" class="block">
                  <div class="font-medium text-primary-600">${o.title}</div>
                  <div class="text-sm text-gray-600 truncate">${o.snippet}</div>
                </a>
              </div>
            `).join(""),t.classList.remove("hidden")):(t.innerHTML='<div class="p-3 text-gray-500">Aucun r√©sultat trouv√©</div>',t.classList.remove("hidden"))}),document.addEventListener("click",function(e){!i.contains(e.target)&&!t.contains(e.target)&&t.classList.add("hidden")}))}function l(){document.querySelectorAll("pre code").forEach(t=>{const e=document.createElement("button");e.className="absolute top-2 right-2 px-2 py-1 bg-gray-700 text-white text-xs rounded hover:bg-gray-600 transition-colors",e.textContent="Copier";const n=t.parentElement;n.style.position="relative",n.appendChild(e),e.addEventListener("click",function(){navigator.clipboard.writeText(t.textContent).then(()=>{e.textContent="Copi√© !",setTimeout(()=>{e.textContent="Copier"},2e3)})})})}document.addEventListener("DOMContentLoaded",function(){a(),l()});</script> </body> </html>